<!DOCTYPE html>
<html lang="zh-CN">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ECharts图表配置器</title>
    <script src='https://jc0104.github.io/YT-ScriptX/scriptx.js'></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }

        :root {
            --primary-color: #3498db;
            --secondary-color: #2ecc71;
            --accent-color: #9b59b6;
            --dark-bg: #1e1f2b;
            --darker-bg: #151620;
            --panel-bg: #252836;
            --border-color: #2d303d;
            --text-color: #e0e0e0;
            --text-secondary: #a0a0a0;
            --hover-color: #3a3d4f;
            --shadow: 0 4px 20px rgba(0, 0, 0, 0.3);
            --transition: all 0.3s ease;
            --header-color: rgba(0, 0, 0, 0.2);
        }

        body {
            background: var(--dark-bg);
            color: var(--text-color);
            display: flex;
            height: 100vh;
            overflow: hidden;
        }

        /* 左侧配置面板 */
        .config-panel {
            width: 350px;
            background: var(--panel-bg);
            border-right: 1px solid var(--border-color);
            display: flex;
            flex-direction: column;
            height: 100%;
            transition: var(--transition);
            box-shadow: var(--shadow);
            z-index: 10;
            position: relative;
        }

        .panel-header {
            padding: 20px;
            background: var(--darker-bg);
            border-bottom: 1px solid var(--border-color);
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .panel-title {
            font-size: 1.5rem;
            font-weight: 600;
            color: var(--primary-color);
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .toggle-panel {
            background: none;
            border: none;
            color: var(--text-secondary);
            font-size: 1.2rem;
            cursor: pointer;
            transition: var(--transition);
        }

        .toggle-panel:hover {
            color: var(--primary-color);
            transform: scale(1.1);
        }

        .panel-content {
            padding: 15px;
            overflow-y: auto;
            flex: 1;
        }

        .config-section {
            margin-bottom: 20px;
            border-radius: 8px;
            overflow: hidden;
            border: 1px solid var(--border-color);
            transition: var(--transition);
        }

        .config-section:hover {
            border-color: var(--primary-color);
        }

        .section-header {
            padding: 12px 15px;
            background: var(--header-color);
            cursor: pointer;
            display: flex;
            justify-content: space-between;
            align-items: center;
            transition: var(--transition);
        }

        .section-header:hover {
            background: var(--hover-color);
        }

        .section-title {
            font-weight: 600;
            font-size: 1.1rem;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .section-content {
            padding: 15px;
            background: rgba(0, 0, 0, 0.1);
            display: none;
            transition: var(--transition);
        }

        .section-content.active {
            display: block;
            animation: fadeIn 0.3s ease;
        }

        @keyframes fadeIn {
            from {
                opacity: 0;
                transform: translateY(-10px);
            }

            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .form-group {
            margin-bottom: 15px;
        }

        .form-group hr {
            border: 0;          /* 先清除默认边框 */
            border-top: 1px solid var(--primary-color); /* 设置上边框为1px红色实线 */
        }

        label {
            display: block;
            margin-bottom: 6px;
            font-size: 0.9rem;
            color: var(--text-secondary);
        }

        input,
        select,
        textarea {
            width: 100%;
            padding: 10px;
            background: rgba(0, 0, 0, 0.3);
            border: 1px solid var(--border-color);
            border-radius: 4px;
            color: var(--text-color);
            font-size: 0.9rem;
            transition: var(--transition);
        }

        input:focus,
        select:focus,
        textarea:focus {
            outline: none;
            border-color: var(--primary-color);
            box-shadow: 0 0 0 2px rgba(52, 152, 219, 0.2);
        }

        button {
            background: var(--primary-color);
            color: white;
            border: none;
            padding: 10px 15px;
            border-radius: 4px;
            cursor: pointer;
            font-weight: 600;
            transition: var(--transition);
            display: inline-flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
        }

        button:hover {
            background: #2980b9;
            transform: translateY(-2px);
        }

        .color-picker {
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .color-preview {
            width: 30px;
            height: 30px;
            border-radius: 4px;
            background: var(--primary-color);
            cursor: pointer;
            transition: var(--transition);
        }

        .color-preview:hover {
            transform: scale(1.1);
        }

        /* 右侧图表区域 */
        .chart-container {
            flex: 1;
            display: flex;
            flex-direction: column;
            height: 100%;
            padding: 20px;
            position: relative;
            transition: var(--transition);
        }

        .chart-container-expand {
            flex: 1;
            display: flex;
            flex-direction: column;
            height: 100%;
            padding: 20px;
            position: absolute;
            transition: var(--transition);
            width: 100%;
        }

        /* 面板折叠状态 */
        .config-panel.collapsed {
            transform: translateX(-100%);
        }

        /* 展开按钮 */
        .expand-panel-btn {
            position: absolute;
            top: 20px;
            right: -40px;
            background: var(--primary-color);
            color: white;
            border: none;
            width: 40px;
            height: 40px;
            border-radius: 0 50% 50% 0;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 5;
            opacity: 0.7;
            transition: var(--transition);
            box-shadow: var(--shadow);
            display: none;
        }

        .expand-panel-btn:hover {
            opacity: 1;
            transform: translateX(5px);
        }

        /* 响应式设计 */
        @media (max-width: 900px) {
            .config-panel {
                width: 300px;
            }
        }

        /* 高级选项 */
        .advanced-toggle {
            display: flex;
            align-items: center;
            gap: 8px;
            margin-top: 10px;
            color: var(--accent-color);
            cursor: pointer;
            font-size: 0.9rem;
        }

        /* 按钮组 */
        .button-group {
            display: flex;
            gap: 10px;
            margin-top: 20px;
        }

        #reset-config {
            background: #e74c3c;
        }

        #reset-config:hover {
            background: #c0392b;
        }

        #export-btn {
            background: var(--accent-color);
        }

        #export-btn:hover {
            background: #8e44ad;
        }
    </style>
</head>

<body>
    <!-- 左侧配置面板 -->
    <div class="config-panel" id="config-panel">
        <div class="panel-header">
            <div class="panel-title">
                <i class="fas fa-sliders-h"></i>
                <span>图表配置面板</span>
            </div>
            <button class="toggle-panel" id="toggle-panel">
                <i class="fas fa-chevron-left"></i>
            </button>
        </div>

        <div class="panel-content">
            <!-- Echarts相关配置 -->
            <div class="config-section">
                <div class="section-header" data-section="chart-version">
                    <div class="section-title">
                        <i class="fas fa-list-check"></i>
                        <span>报表信息</span>
                    </div>
                    <i class="fas fa-chevron-down"></i>
                </div>
                <div class="section-content" id="chart-version">
                    <div class="form-group">
                        <label for="chart-name">报表名称</label>
                        <input type="text" id="chart-name" value="测试报表">
                    </div>

                    <div class="form-group">
                        <label for="chart-version-select">Echarts版本</label>
                        <select id="chart-version-select">
                            <option value="6.0.0">6.0.0</option>
                            <option value="5.5.0">5.5.0</option>
                            <option value="5.1.2">5.1.2</option>
                            <option value="5.0.2">5.0.2</option>
                        </select>
                    </div>

                    <div class="form-group">
                        <label for="chart-divid">展现容器ID</label>
                        <input type="text" id="chart-divid" value="main-chart">
                    </div>
                </div>
            </div>

            <!-- 图表类型配置 -->
            <!-- <div class="config-section">
                <div class="section-header" data-section="chart-type">
                    <div class="section-title">
                        <i class="fas fa-chart-bar"></i>
                        <span>图表类型</span>
                    </div>
                    <i class="fas fa-chevron-down"></i>
                </div>
                <div class="section-content" id="chart-type">
                    <div class="form-group">
                        <label for="chart-type-select">选择图表类型</label>
                        <select id="chart-type-select">
                            <option value="bar">柱状图</option>
                            <option value="line">折线图</option>
                            <option value="pie">饼图</option>
                            <option value="scatter">散点图</option>
                            <option value="radar">雷达图</option>
                            <option value="funnel">漏斗图</option>
                            <option value="gauge">仪表盘</option>
                        </select>
                    </div>

                    <div class="form-group">
                        <label for="chart-theme">主题颜色</label>
                        <select id="chart-theme">
                            <option value="default">默认</option>
                            <option value="dark">深色</option>
                            <option value="vintage">复古</option>
                            <option value="macarons">马卡龙</option>
                            <option value="roma">罗马</option>
                        </select>
                    </div>

                    <div class="form-group">
                        <label for="animation-type">动画效果</label>
                        <select id="animation-type">
                            <option value="linear">线性</option>
                            <option value="elastic">弹性</option>
                            <option value="bounce">反弹</option>
                            <option value="quadraticIn">二次缓入</option>
                        </select>
                    </div>
                </div>
            </div> -->

            <!-- 标题配置 -->
            <div class="config-section">
                <div class="section-header" data-section="title-config">
                    <div class="section-title">
                        <i class="fas fa-heading"></i>
                        <span>标题设置</span>
                    </div>
                    <i class="fas fa-chevron-down"></i>
                </div>
                <div class="section-content" id="title-config">
                    <div class="form-group">
                        <label for="title-show">是否显示</label>
                        <select id="title-show">
                            <option value="true">展示</option>
                            <option value="">不展示</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="title-left">标题水平位置</label>
                        <select id="title-left">
                            <option value="center">居中</option>
                            <option value="left">靠左</option>
                            <option value="right">靠右</option>
                        </select>
                    </div>

                    <div class="form-group">
                        <label for="title-top">标题垂直位置</label>
                        <select id="title-top">
                            <option value="top">顶部</option>
                            <option value="middle">中间</option>
                            <option value="bottom">底部</option>
                        </select>
                    </div>

                    <div class="form-group">
                    <hr/>
                    </div>

                    <div class="form-group">
                        <label for="main-title">主标题</label>
                        <input type="text" id="main-title" value="主标题">
                    </div>

                    <div class="form-group">
                        <label for="title-color">标题颜色</label>
                        <div class="color-picker">
                            <div class="color-preview" id="title-preview" style="background: #3498db;"></div>
                            <input type="text" id="title-color" value="#3498db">
                        </div>
                    </div>

                    <div class="form-group">
                        <label for="title-font-family">标题字体</label>
                        <select id="title-font-family">
                            <option value="PingfangRegular">PingfangRegular</option>
                        </select>
                    </div>

                    <div class="form-group">
                        <label for="title-font-size">标题字体大小</label>
                        <input type="range" id="title-font-size" min="12" max="36" value="24">
                        <span id="title-font-size-value">24px</span>
                    </div>

                    <div class="form-group">
                    <hr/>
                    </div>
                    
                    <div class="form-group">
                        <label for="sub-title">副标题</label>
                        <input type="text" id="sub-title" value="副标题">
                    </div>

                    <div class="form-group">
                        <label for="sub-title-color">标题颜色</label>
                        <div class="color-picker">
                            <div class="color-preview" id="sub-title-preview" style="background: #3498db;"></div>
                            <input type="text" id="sub-title-color" value="#3498db">
                        </div>
                    </div>

                    <div class="form-group">
                        <label for="sub-title-font-family">标题字体</label>
                        <select id="sub-title-font-family">
                            <option value="PingfangRegular">PingfangRegular</option>
                        </select>
                    </div>

                    <div class="form-group">
                        <label for="sub-title-font-size">标题字体大小</label>
                        <input type="range" id="sub-title-font-size" min="12" max="36" value="12">
                        <span id="sub-title-font-size-value">12px</span>
                    </div>

                    <div class="form-group">
                        <label for="sub-title-font-size">主副标题间距</label>
                        <input type="range" id="title-itemgap-size" min="0" max="30" value="10">
                        <span id="title-itemgap-size-value">10px</span>
                    </div>
                </div>
            </div>

            <!-- 数据配置 -->
            <!-- <div class="config-section">
                <div class="section-header" data-section="data-config">
                    <div class="section-title">
                        <i class="fas fa-database"></i>
                        <span>数据设置</span>
                    </div>
                    <i class="fas fa-chevron-down"></i>
                </div>
                <div class="section-content" id="data-config">
                    <div class="form-group">
                        <label for="x-axis-data">X轴数据 (逗号分隔)</label>
                        <textarea id="x-axis-data">第一季度,第二季度,第三季度,第四季度</textarea>
                    </div>

                    <div class="form-group">
                        <label for="y-axis-data">Y轴数据 (逗号分隔)</label>
                        <textarea id="y-axis-data">120, 200, 150, 80</textarea>
                    </div>

                    <div class="form-group">
                        <label for="data-color">数据颜色</label>
                        <div class="color-picker">
                            <div class="color-preview" id="data-preview" style="background: #2ecc71;"></div>
                            <input type="text" id="data-color" value="#2ecc71">
                        </div>
                    </div>

                    <div class="form-group">
                        <label for="show-data-labels">显示数据标签</label>
                        <select id="show-data-labels">
                            <option value="true">是</option>
                            <option value="false">否</option>
                        </select>
                    </div>

                    <div class="advanced-toggle">
                        <i class="fas fa-cog"></i>
                        <span>高级数据选项</span>
                    </div>
                </div>
            </div> -->

            <!-- 坐标轴配置 -->
            <!-- <div class="config-section">
                <div class="section-header" data-section="axis-config">
                    <div class="section-title">
                        <i class="fas fa-chart-line"></i>
                        <span>坐标轴设置</span>
                    </div>
                    <i class="fas fa-chevron-down"></i>
                </div>
                <div class="section-content" id="axis-config">
                    <div class="form-group">
                        <label for="x-axis-name">X轴名称</label>
                        <input type="text" id="x-axis-name" value="季度">
                    </div>

                    <div class="form-group">
                        <label for="y-axis-name">Y轴名称</label>
                        <input type="text" id="y-axis-name" value="销售额（万元）">
                    </div>

                    <div class="form-group">
                        <label for="axis-color">坐标轴颜色</label>
                        <div class="color-picker">
                            <div class="color-preview" id="axis-preview" style="background: #e0e0e0;"></div>
                            <input type="text" id="axis-color" value="#e0e0e0">
                        </div>
                    </div>

                    <div class="form-group">
                        <label for="grid-lines">显示网格线</label>
                        <select id="grid-lines">
                            <option value="true">是</option>
                            <option value="false">否</option>
                        </select>
                    </div>

                    <div class="form-group">
                        <label for="axis-label-size">坐标轴标签大小</label>
                        <input type="range" id="axis-label-size" min="10" max="24" value="14">
                        <span id="axis-label-value">14px</span>
                    </div>
                </div>
            </div> -->

            <!-- 图例配置 -->
            <!-- <div class="config-section">
                <div class="section-header" data-section="legend-config">
                    <div class="section-title">
                        <i class="fas fa-list"></i>
                        <span>图例设置</span>
                    </div>
                    <i class="fas fa-chevron-down"></i>
                </div>
                <div class="section-content" id="legend-config">
                    <div class="form-group">
                        <label for="show-legend">显示图例</label>
                        <select id="show-legend">
                            <option value="true">是</option>
                            <option value="false">否</option>
                        </select>
                    </div>

                    <div class="form-group">
                        <label for="legend-position">图例位置</label>
                        <select id="legend-position">
                            <option value="top">顶部</option>
                            <option value="bottom">底部</option>
                            <option value="left">左侧</option>
                            <option value="right">右侧</option>
                        </select>
                    </div>

                    <div class="form-group">
                        <label for="legend-color">图例颜色</label>
                        <div class="color-picker">
                            <div class="color-preview" id="legend-preview" style="background: #f1c40f;"></div>
                            <input type="text" id="legend-color" value="#f1c40f">
                        </div>
                    </div>
                </div>
            </div> -->

            <!-- 动作按钮 -->
            <div class="button-group">
                <button id="apply-config">
                    <i class="fas fa-sync-alt"></i>
                    <span>应用</span>
                </button>
                <!-- <button id="reset-config">
                    <i class="fas fa-undo"></i>
                    <span>重置</span>
                </button>
                <button id="export-btn">
                    <i class="fas fa-download"></i>
                    <span>导出</span>
                </button> -->
            </div>
        </div>

        <!-- 展开按钮 -->
        <button class="expand-panel-btn" id="expand-panel">
            <i class="fas fa-chevron-right"></i>
        </button>
    </div>

    <!-- 右侧图表区域 -->
    <div class="chart-container" id="main-chart"></div>

    <script>
        css = [];
        scripts = [
            webUrl + "chartx.js"
        ];
        //当前配置
        var currentConfig = null;
        var currentOption = null;

        loadPage(function () {
            SN = " | 图表中心"
            sectionSet();
            renderChart();

            

        });

        //配置面板设置
        function sectionSet() {
            // 设置折叠面板
            document.querySelectorAll('.section-header').forEach(header => {
                header.addEventListener('click', function () {
                    const sectionId = this.getAttribute('data-section');
                    const content = document.getElementById(sectionId);
                    const isActive = content.classList.contains('active');
                    // 关闭所有内容
                    document.querySelectorAll('.section-content').forEach(el => {
                        el.classList.remove('active');
                    });
                    // 切换当前内容
                    if (!isActive) {
                        content.classList.add('active');
                    }
                    // 更新箭头图标
                    document.querySelectorAll('.section-header i.fa-chevron-down').forEach(icon => {
                        icon.classList.remove('fa-chevron-up');
                    });
                    if (!isActive) {
                        this.querySelector('i.fa-chevron-down').classList.add('fa-chevron-up');
                    }
                });
            });
            // 默认打开第一个
            document.querySelector('.section-header').click();

            // 颜色预览
            document.querySelectorAll('input[type="text"][id$="color"]').forEach(input => {
                input.addEventListener('input', function () {
                    const previewId = this.id.replace('color', 'preview');
                    document.getElementById(previewId).style.background = this.value;
                });
            });

            // 字体大小滑块
            document.querySelectorAll('input[type="range"][id$="font-size"]').forEach(input => {
                input.addEventListener('input', function () {
                    const previewId = this.id+"-value";console.log(previewId);                    
                    document.getElementById(previewId).textContent = this.value+ 'px';
                });
            });
            // 字体大小滑块
            document.querySelectorAll('input[type="range"][id$="itemgap-size"]').forEach(input => {
                input.addEventListener('input', function () {
                    const previewId = this.id+"-value";console.log(previewId);                    
                    document.getElementById(previewId).textContent = this.value+ 'px';
                });
            });
            // document.getElementById('title-font-size').addEventListener('input', function () {
            //     document.getElementById('font-size-value').textContent = this.value + 'px';
            // });

            // // 坐标轴标签大小滑块
            // document.getElementById('axis-label-size').addEventListener('input', function () {
            //     document.getElementById('axis-label-value').textContent = this.value + 'px';
            // });

            // 折叠面板按钮
            document.getElementById('toggle-panel').addEventListener('click', function () {
                const panel = document.getElementById('config-panel');
                panel.classList.add('collapsed');
                document.getElementById('expand-panel').style.display = 'block';
                const chartContainers = document.querySelectorAll('.chart-container');
                chartContainers.forEach(container => {
                    // 添加新类
                    container.classList.add('chart-container-expand');
                    // 移除旧类
                    container.classList.remove('chart-container');
                });
                renderChart();
            });

            // 展开面板按钮
            document.getElementById('expand-panel').addEventListener('click', function () {
                const panel = document.getElementById('config-panel');
                panel.classList.remove('collapsed');
                document.getElementById('expand-panel').style.display = 'none';
                const chartContainers = document.querySelectorAll('.chart-container-expand');
                chartContainers.forEach(container => {
                    // 添加新类
                    container.classList.add('chart-container');
                    // 移除旧类
                    container.classList.remove('chart-container-expand');
                });
                renderChart();
            });

            // 应用配置按钮
            document.getElementById('apply-config').addEventListener('click',  function () {
                renderChart();
                console.log(currentConfig);
                console.log(currentOption);

                // 获取表单值
                // currentConfig = {
                    // chartType: document.getElementById('chart-type-select').value,
                    // theme: document.getElementById('chart-theme').value,
                    // animationType: document.getElementById('animation-type').value,
                    // mainTitle: document.getElementById('main-title').value,
                    // subTitle: document.getElementById('sub-title').value,
                    // titleColor: document.getElementById('title-color').value,
                    // titlePosition: document.getElementById('title-position').value,
                    // titleFontSize: parseInt(document.getElementById('title-font-size').value),
                    // xAxisData: document.getElementById('x-axis-data').value.split(',').map(item => item.trim()),
                    // yAxisData: document.getElementById('y-axis-data').value.split(',').map(item => parseFloat(item.trim())) || 0,
                    // dataColor: document.getElementById('data-color').value,
                    // showDataLabels: document.getElementById('show-data-labels').value === 'true',
                    // xAxisName: document.getElementById('x-axis-name').value,
                    // yAxisName: document.getElementById('y-axis-name').value,
                    // axisColor: document.getElementById('axis-color').value,
                    // axisLabelSize: parseInt(document.getElementById('axis-label-size').value),
                    // gridLines: document.getElementById('grid-lines').value === 'true',
                    // showLegend: document.getElementById('show-legend').value === 'true',
                    // legendPosition: document.getElementById('legend-position').value,
                    // legendColor: document.getElementById('legend-color').value
                // }
            });

            
            // // 重置配置按钮
            // document.getElementById('reset-config').addEventListener('click', function () {
            //     // currentConfig = {...defaultConfig};
            //     // updateInputValues();
            //     // renderChart(currentConfig);
            //     // showNotification('配置已重置为默认值!', 'success');
            // });

            // // 导出按钮
            // document.getElementById('export-btn').addEventListener('click', function () {
            //     // const url = myChart.getDataURL({
            //     //     type: 'png',
            //     //     pixelRatio: 2,
            //     //     backgroundColor: '#252836'
            //     // });

            //     // const a = document.createElement('a');
            //     // a.href = url;
            //     // a.download = 'echarts-chart.png';
            //     // document.body.appendChild(a);
            //     // a.click();
            //     // document.body.removeChild(a);

            //     // showNotification('图表已导出为PNG图片!', 'success');
            // });
        
        }


        /*
        var echartsSetInfo = {
            "epaths": {                                     //echarts脚本文件路径（可以多个）（格式:{版本名：路径}，如：{ 'echarts.5.5.0': 'public/echarts/echarts.5.5.0' ,……}）
                'echarts.4.2.1': ePath + 'echarts.4.2.1',
                'echarts.5.0.2': ePath + 'echarts.5.0.2',
                'echarts.5.1.2': ePath + 'echarts.5.1.2',
                'echarts.5.5.0': ePath + 'echarts.5.5.0'
            },
            "version": "5.5.0",                             //echarts版本
            "eDivID": "",                                   //echarts展示所在div的ID
            "setAPI": {                                     //获取echarts配置信息接口信息，格式：{ "url": "", "params": null, "type": "get", "IsAsync": true }
                "url": "",                                  //api地址
                "params": null,                             //api入参{}
                "type": "post",                             // api请求类型（为空默认为post）
                "IsAsync": true                             //api是否异步请求（为空默认为false）
            },
            "dataAPI": {                                    //获取echarts数据接口信息，格式：{ "url": "", "params": null, "type": "get", "IsAsync": true }
                "url": "",                                  //api地址
                "params": null,                             //api入参{}
                "type": "post",                             //api请求类型（为空默认为post）
                "IsAsync": true                             //api是否异步请求（为空默认为false）
            },
            "dNames": ['name', 'value'],                    //数据字段名称数组（如：['name', 'value', 'value1', 'value2']），第一个留给xAxis（默认）或yAxis（需在oCallback回调更改）
            "snList": [],                                   //series.name数组（如：['示例1', '示例2', '示例3']）和echarts对象legend的data保持一致
            "stList": []                                    //series.type数组（如：['bar', 'line', 'bar']）
        }
       */

        function renderChart() {
            echartsSetInfo.version=document.getElementById('chart-version-select').value;
            echartsSetInfo.eDivID=document.getElementById('chart-divid').value;

            showEcharts(
                function(eSetInfo){
                    eSetInfo.setAPI.url = chartxUrl + "template/base/1.json"
                    eSetInfo.setAPI.type = "get"
                    eSetInfo.dataAPI.url = chartxUrl + "data/bar/bar_1_data.json"
                    eSetInfo.dataAPI.type = "get"
                    eSetInfo.snList = []
                    eSetInfo.dataAPI.url = chartxUrl + "data/bar/bar_1_data.json"
                    eSetInfo.dNames = ['name', 'value']
                    eSetInfo.stList = ['bar']
                    eSetInfo.eDivID = "main-chart"

                    currentConfig={...eSetInfo}
                },
                function (option) {
                    option.title[0].show=document.getElementById('title-show').value;
                    option.title[0].text=document.getElementById('main-title').value;
                    option.title[0].subtext=document.getElementById('sub-title').value;
                    option.title[0].left=document.getElementById('title-left').value;
                    option.title[0].top=document.getElementById('title-top').value;
                    option.title[0].textStyle.color=document.getElementById('title-color').value;
                    option.title[0].textStyle.fontSize=parseInt(document.getElementById('title-font-size').value);
                    option.title[0].textStyle.fontFamily=document.getElementById('title-font-family').value;
                    option.title[0].subtextStyle.color=document.getElementById('sub-title-color').value;
                    option.title[0].subtextStyle.fontSize=parseInt(document.getElementById('sub-title-font-size').value);
                    option.title[0].subtextStyle.fontFamily=document.getElementById('sub-title-font-family').value;
                    option.title[0].itemGap=parseInt(document.getElementById('title-itemgap-size').value);

                    
                    option.tooltip.formatter = "{b}<br/>示例1：{c0}"
                    option.legend.show = false;

                    currentOption={...option}
                },
                function (myChart) {
                    myChart.on('click', (params) => {
                        console.log(params);
                        alert(params.name + "\r\n" + params.value)
                    })
                }
            )
        }
        // // 初始化ECharts实例
        // let chartDom = document.getElementById('main-chart');
        // let myChart = echarts.init(chartDom);

        // // 默认配置
        // const defaultConfig = {
        //     chartType: 'bar',
        //     mainTitle: '销售数据统计',
        //     subTitle: '2023年各季度数据',
        //     titleColor: '#3498db',
        //     titlePosition: 'center',
        //     titleFontSize: 24,
        //     xAxisData: ['第一季度', '第二季度', '第三季度', '第四季度'],
        //     yAxisData: [120, 200, 150, 80],
        //     dataColor: '#2ecc71',
        //     showDataLabels: true,
        //     xAxisName: '季度',
        //     yAxisName: '销售额（万元）',
        //     axisColor: '#e0e0e0',
        //     axisLabelSize: 14,
        //     gridLines: true,
        //     showLegend: true,
        //     legendPosition: 'top',
        //     legendColor: '#f1c40f',
        //     theme: 'default',
        //     animationType: 'linear'
        // };

        // // 当前配置
        // let currentConfig = {...defaultConfig};

        // 初始化图表
        // function initChart() {
        // renderChart(currentConfig);
        // bindEvents();
        // setupAccordions();
        // updateInputValues();
        // }

        // // 渲染图表
        // function renderChart(config) {
        //     chartDom = document.getElementById('main-chart');
        //     myChart = echarts.init(chartDom);
        //     const option = {
        //         title: {
        //             text: config.mainTitle,
        //             subtext: config.subTitle,
        //             left: config.titlePosition,
        //             textStyle: {
        //                 color: config.titleColor,
        //                 fontSize: config.titleFontSize
        //             },
        //             subtextStyle: {
        //                 fontSize: config.titleFontSize - 4
        //             }
        //         },
        //         tooltip: {
        //             trigger: 'axis',
        //             backgroundColor: 'rgba(0, 0, 0, 0.7)',
        //             borderColor: '#333',
        //             textStyle: {
        //                 color: '#fff'
        //             }
        //         },
        //         animation: true,
        //         animationType: config.animationType,
        //         animationDuration: 1000,
        //         legend: {
        //             show: config.showLegend,
        //             data: ['销售额'],
        //             textStyle: {
        //                 color: config.legendColor
        //             },
        //             top: config.legendPosition === 'top' ? 30 :
        //                  config.legendPosition === 'bottom' ? 'bottom' :
        //                  config.legendPosition,
        //             left: config.legendPosition === 'left' ? 'left' :
        //                   config.legendPosition === 'right' ? 'right' : 'center'
        //         },
        //         grid: {
        //             left: '3%',
        //             right: '4%',
        //             bottom: '3%',
        //             containLabel: true
        //         },
        //         xAxis: {
        //             type: 'category',
        //             data: config.xAxisData,
        //             name: config.xAxisName,
        //             nameTextStyle: {
        //                 color: '#aaa'
        //             },
        //             axisLine: {
        //                 lineStyle: {
        //                     color: config.axisColor
        //                 }
        //             },
        //             axisLabel: {
        //                 color: '#aaa',
        //                 fontSize: config.axisLabelSize
        //             }
        //         },
        //         yAxis: {
        //             type: 'value',
        //             name: config.yAxisName,
        //             nameTextStyle: {
        //                 color: '#aaa'
        //             },
        //             axisLine: {
        //                 lineStyle: {
        //                     color: config.axisColor
        //                 }
        //             },
        //             splitLine: {
        //                 show: config.gridLines,
        //                 lineStyle: {
        //                     color: 'rgba(255, 255, 255, 0.1)'
        //                 }
        //             },
        //             axisLabel: {
        //                 color: '#aaa',
        //                 fontSize: config.axisLabelSize
        //             }
        //         },
        //         series: [
        //             {
        //                 name: '销售额',
        //                 type: config.chartType,
        //                 data: config.yAxisData,
        //                 itemStyle: {
        //                     color: config.dataColor
        //                 },
        //                 label: {
        //                     show: config.showDataLabels,
        //                     position: 'top',
        //                     color: '#fff'
        //                 }
        //             }
        //         ]
        //     };

        //     // 特殊图表类型处理
        //     if (config.chartType === 'pie') {
        //         option.series[0] = {
        //             name: '销售额',
        //             type: 'pie',
        //             radius: '70%',
        //             data: config.xAxisData.map((name, index) => ({
        //                 name: name,
        //                 value: config.yAxisData[index]
        //             })),
        //             itemStyle: {
        //                 color: config.dataColor
        //             },
        //             label: {
        //                 show: config.showDataLabels,
        //                 color: '#fff'
        //             },
        //             emphasis: {
        //                 itemStyle: {
        //                     shadowBlur: 10,
        //                     shadowOffsetX: 0,
        //                     shadowColor: 'rgba(0, 0, 0, 0.5)'
        //                 }
        //             }
        //         };

        //         delete option.xAxis;
        //         delete option.yAxis;
        //     }

        //     // 应用主题
        //     if (config.theme !== 'default') {
        //         echarts.dispose(myChart);
        //         myChart = echarts.init(chartDom, config.theme);
        //     }

        //     myChart.setOption(option);
        // }


        // }

        

        // // 更新输入框值
        // function updateInputValues() {
        //     document.getElementById('chart-type-select').value = currentConfig.chartType;
        //     document.getElementById('chart-theme').value = currentConfig.theme;
        //     document.getElementById('animation-type').value = currentConfig.animationType;
        //     document.getElementById('main-title').value = currentConfig.mainTitle;
        //     document.getElementById('sub-title').value = currentConfig.subTitle;
        //     document.getElementById('title-color').value = currentConfig.titleColor;
        //     document.getElementById('title-position').value = currentConfig.titlePosition;
        //     document.getElementById('title-font-size').value = currentConfig.titleFontSize;
        //     document.getElementById('font-size-value').textContent = currentConfig.titleFontSize + 'px';
        //     document.getElementById('x-axis-data').value = currentConfig.xAxisData.join(', ');
        //     document.getElementById('y-axis-data').value = currentConfig.yAxisData.join(', ');
        //     document.getElementById('data-color').value = currentConfig.dataColor;
        //     document.getElementById('show-data-labels').value = currentConfig.showDataLabels;
        //     document.getElementById('x-axis-name').value = currentConfig.xAxisName;
        //     document.getElementById('y-axis-name').value = currentConfig.yAxisName;
        //     document.getElementById('axis-color').value = currentConfig.axisColor;
        //     document.getElementById('axis-label-size').value = currentConfig.axisLabelSize;
        //     document.getElementById('axis-label-value').textContent = currentConfig.axisLabelSize + 'px';
        //     document.getElementById('grid-lines').value = currentConfig.gridLines;
        //     document.getElementById('show-legend').value = currentConfig.showLegend;
        //     document.getElementById('legend-position').value = currentConfig.legendPosition;
        //     document.getElementById('legend-color').value = currentConfig.legendColor;

        //     // 更新颜色预览
        //     document.getElementById('title-preview').style.background = currentConfig.titleColor;
        //     document.getElementById('data-preview').style.background = currentConfig.dataColor;
        //     document.getElementById('axis-preview').style.background = currentConfig.axisColor;
        //     document.getElementById('legend-preview').style.background = currentConfig.legendColor;
        // }

        // // 显示通知
        // function showNotification(message, type) {
        //     const notif = document.createElement('div');
        //     notif.className = `notification ${type}`;
        //     notif.textContent = message;
        //     notif.style.cssText = `
        //         position: fixed;
        //         top: 20px;
        //         right: 20px;
        //         padding: 15px 25px;
        //         background: ${type === 'success' ? '#2ecc71' : '#e74c3c'};
        //         color: white;
        //         border-radius: 5px;
        //         box-shadow: 0 4px 12px rgba(0,0,0,0.15);
        //         z-index: 1000;
        //         animation: slideIn 0.3s, fadeOut 0.5s 2.5s;
        //     `;

        //     document.body.appendChild(notif);

        //     setTimeout(() => {
        //         notif.remove();
        //     }, 3000);
        // }

        // // 页面加载时初始化
        // window.addEventListener('load', initChart);

        // // 响应窗口大小变化
        // window.addEventListener('resize', function() {
        //     myChart.resize();
        // });
    </script>
</body>

</html>